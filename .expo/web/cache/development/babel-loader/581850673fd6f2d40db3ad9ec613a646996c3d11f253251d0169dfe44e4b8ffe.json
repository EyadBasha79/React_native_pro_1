{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport axios from 'axios';\nimport AddArticle from \"./AddArticle\";\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { MyContext } from \"../globale/ContextState\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Articles = function Articles(_ref) {\n  var navigation = _ref.navigation;\n  var _useContext = useContext(MyContext),\n    myArticles = _useContext.myArticles,\n    setMyArticles = _useContext.setMyArticles;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    modalOpen = _useState4[0],\n    setModalOpen = _useState4[1];\n  var dismisModal = function dismisModal() {\n    setModalOpen(false);\n  };\n  useEffect(function () {\n    var fetchArticles = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var res = yield axios.get('http://127.0.0.1:8000/products/');\n          setMyArticles(res.data.results);\n        } catch (error) {\n          console.log(error.message);\n        }\n      });\n      return function fetchArticles() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchArticles();\n  }, []);\n  function articleHandler(item) {\n    var id = item.id,\n      title = item.title,\n      price = item.price,\n      picture = item.picture,\n      content = item.content;\n    navigation.navigate(\"Detail\", {\n      screen: \"Detail\",\n      id: id,\n      title: title,\n      price: price,\n      picture: picture,\n      content: content\n    });\n  }\n  var Item = function Item(item) {\n    return _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return articleHandler(item);\n      },\n      children: _jsxs(View, {\n        style: styles.item,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: item.title\n        }), _jsx(Text, {\n          style: styles.title,\n          children: item.content\n        }), _jsxs(Text, {\n          style: styles.title,\n          children: [\" \", item.price, \" \\u20AC \\uD83C\\uDDEA\\uD83C\\uDDFA \"]\n        }), _jsx(Image, {\n          source: {\n            uri: item.picture\n          },\n          style: styles.articleImage\n        })]\n      })\n    });\n  };\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(Modal, {\n      visible: modalOpen,\n      animationType: \"slide\",\n      children: _jsxs(View, {\n        style: styles.containerModal,\n        children: [_jsx(MaterialIcons, {\n          name: \"close\",\n          style: styles.btnAddArticle,\n          size: 24,\n          onPress: function onPress() {\n            return setModalOpen(false);\n          }\n        }), _jsx(AddArticle, {\n          dismisModal: dismisModal,\n          navigation: navigation\n        })]\n      })\n    }), _jsx(MaterialIcons, {\n      name: \"add\",\n      style: styles.btnAddArticle,\n      size: 24,\n      onPress: function onPress() {\n        return setModalOpen(true);\n      }\n    }), _jsx(FlatList, {\n      data: myArticles,\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsx(Item, {\n          title: item.title,\n          content: item.content,\n          price: item.price,\n          picture: item.picture,\n          id: item.id\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    })]\n  });\n};\nexport default Articles;\nvar styles = StyleSheet.create({\n  font: {\n    fontWeight: '700',\n    color: '#f0ffff'\n  },\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight || 0,\n    backgroundColor: '#aaa',\n    justifyContent: 'center'\n  },\n  item: {\n    backgroundColor: '#f9c2ff',\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 7\n  },\n  title: {\n    fontSize: 32\n  },\n  articleImage: {\n    width: 100,\n    height: 100\n  },\n  containerModal: {},\n  btnAddArticle: {\n    marginBottom: 10,\n    borderEndWidth: 1,\n    borderColor: '#aaa',\n    padding: 10,\n    borderRadius: 6,\n    alignSelf: 'center'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useContext","View","Text","StyleSheet","SafeAreaView","FlatList","StatusBar","Image","TouchableOpacity","Modal","axios","AddArticle","MaterialIcons","MyContext","jsx","_jsx","jsxs","_jsxs","Articles","_ref","navigation","_useContext","myArticles","setMyArticles","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","modalOpen","setModalOpen","dismisModal","fetchArticles","_ref2","_asyncToGenerator","res","get","results","error","console","log","message","apply","arguments","articleHandler","item","id","title","price","picture","content","navigate","screen","Item","onPress","children","style","styles","source","uri","articleImage","container","visible","animationType","containerModal","name","btnAddArticle","size","renderItem","_ref3","keyExtractor","create","font","fontWeight","color","flex","marginTop","currentHeight","backgroundColor","justifyContent","padding","marginVertical","marginHorizontal","alignItems","borderRadius","fontSize","width","height","marginBottom","borderEndWidth","borderColor","alignSelf"],"sources":["/home/eyad/Documents/Eyad_DOCS/Doranco_formation/React_Native/Les_Project/new-front/e-commerce/src/BottomTab/Home.js"],"sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\nimport {View, Text, StyleSheet, SafeAreaView, FlatList, StatusBar, Image, TouchableOpacity, Modal } from 'react-native'\nimport axios from 'axios';\nimport AddArticle from './AddArticle';\nimport { MaterialIcons } from '@expo/vector-icons'\nimport { MyContext } from '../globale/ContextState'\n\n\n\n\nconst Articles = ({ navigation }) => {\n    const {\n            myArticles, \n            setMyArticles,\n        } = useContext(MyContext)\n\n    const [data, setData] = useState([])\n    const [modalOpen, setModalOpen] = useState(false)\n\n\n    const dismisModal = () => {\n        setModalOpen(false)\n    }\n    \n    useEffect(() => {\n        const fetchArticles = async () => {\n            try {\n                const res = await axios.get('http://127.0.0.1:8000/products/')\n                setMyArticles(res.data.results)\n            } catch (error) {\n                console.log(error.message)\n            }\n        };\n        fetchArticles();\n    }, [])\n\n    // const goToDetails = () =>\n       \n\n\n    function articleHandler(item) {\n        const {id, title, price, picture, content } = item\n        // console.log(title, price, content)\n         navigation.navigate(\"Detail\", {\n             screen: \"Detail\",\n             id,\n             title,\n             price,\n             picture,\n             content\n        });\n    }\n\n    \n    const Item = (item) => (\n      <TouchableOpacity onPress={() => articleHandler(item)} >\n        <View style={styles.item}>\n            <Text style={styles.title}>{item.title}</Text>\n            <Text style={styles.title}>{item.content}</Text>\n                <Text style={styles.title}> {item.price} € 🇪🇺 </Text>\n            <Image source={{ uri: item.picture }} style={styles.articleImage}  />\n        </View>\n      </TouchableOpacity>\n  );\n    \n\n    return (\n        <SafeAreaView style={styles.container}>\n            <Modal visible={modalOpen} animationType='slide'>\n                <View style={styles.containerModal}>\n                    <MaterialIcons name='close' style={styles.btnAddArticle} size={24} onPress={() => setModalOpen(false)} />\n                    <AddArticle dismisModal={dismisModal} navigation={navigation} />\n                </View>\n\n            </Modal>\n\n            <MaterialIcons name='add' style={styles.btnAddArticle} size={24} onPress={() => setModalOpen(true)} />\n            \n            <FlatList\n                data={myArticles}\n                renderItem={({ item }) => <Item\n                    title={item.title}\n                    content={item.content}\n                    price={item.price}\n                    picture={item.picture}\n                    id={item.id}\n                />}\n                keyExtractor={item => item.id}\n            />\n            \n        </SafeAreaView>\n  )\n}\n\nexport default Articles\n\n\n\n/* \n  ┌─────────────────────────────────────────────────────────────────────────┐\n  │ STYLES                                                                  │\n  └─────────────────────────────────────────────────────────────────────────┘\n */\n\nconst styles = StyleSheet.create({\n    font: {\n        fontWeight: '700',\n        // fontSize: 30,\n        color: '#f0ffff',\n    },\n      container: {\n        flex: 1,\n        marginTop: StatusBar.currentHeight || 0,\n        backgroundColor: '#aaa',\n        // alignItems: 'center',\n        justifyContent: 'center',\n        \n    },\n    item: {\n        backgroundColor: '#f9c2ff',\n        padding: 20,\n        marginVertical: 8,\n        marginHorizontal: 16,\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderRadius: 7,\n    },\n    title: {\n        fontSize: 32,\n    },\n    articleImage: {\n        width: 100,\n        height: 100, \n    },\n    containerModal: {\n        // flex: 1,\n    },\n    btnAddArticle: {\n        marginBottom: 10,\n        borderEndWidth: 1,\n        borderColor: '#aaa',\n        padding: 10,\n        borderRadius: 6,\n        alignSelf: 'center'\n    }\n})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}