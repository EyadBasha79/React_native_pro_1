{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Formik } from 'formik';\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AddArticle = function AddArticle(props) {\n  var data = props.route.params.article;\n  var _useState = useState({\n      title: data.title,\n      price: data.price,\n      picture: data.picture,\n      content: data.content\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    article = _useState2[0],\n    setArticle = _useState2[1];\n  var articleId = data.id;\n  var handelChange = function handelChange(key, value) {\n    setArticle(_objectSpread(_objectSpread({}, article), {}, _defineProperty({}, key, value)));\n  };\n  return _jsx(View, {\n    children: _jsx(Formik, {\n      initialValues: {\n        title: data.title,\n        price: data.price,\n        content: data.content,\n        picture: data.picture\n      },\n      onSubmit: function () {\n        var _ref = _asyncToGenerator(function* (values) {\n          try {\n            yield axios.put(\"http://localhost:8000/products/\" + articleId.toString() + \"/\", article);\n            props.navigation.navigate('HomeScreen');\n          } catch (_unused) {\n            (function (error) {\n              return console.log(error);\n            });\n          }\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      children: function children(props) {\n        return _jsxs(View, {\n          children: [_jsx(Text, {\n            children: \"Edit Article\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: props.handleChange('title'),\n            value: props.values.title\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: props.handleChange('price'),\n            value: props.values.price,\n            keyboardType: \"numeric\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: props.handleChange('picture'),\n            value: props.values.picture\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: props.handleChange('contact'),\n            value: props.values.contact,\n            multiline: true,\n            numberOfLines: 4,\n            maxLength: 40\n          }), _jsx(Button, {\n            title: \"Save\",\n            color: \"#841584\"\n          })]\n        });\n      }\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  input: {\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  }\n});\nexport default AddArticle;","map":{"version":3,"names":["React","useState","View","Text","StyleSheet","SafeAreaView","TextInput","Button","Formik","axios","jsx","_jsx","jsxs","_jsxs","AddArticle","props","data","route","params","article","_useState","title","price","picture","content","_useState2","_slicedToArray","setArticle","articleId","id","handelChange","key","value","_objectSpread","_defineProperty","children","initialValues","onSubmit","_ref","_asyncToGenerator","values","put","toString","navigation","navigate","_unused","error","console","log","_x","apply","arguments","style","styles","input","onChangeText","handleChange","keyboardType","contact","multiline","numberOfLines","maxLength","color","create","height","margin","borderWidth","padding"],"sources":["/home/eyad/Documents/Eyad_DOCS/Doranco_formation/React_Native/Les_Project/new-front/e-commerce/src/Stack/EditArticle.js"],"sourcesContent":["import React, { useState } from 'react'\n\nimport { View, Text, StyleSheet, SafeAreaView, TextInput, Button } from 'react-native'\nimport {Formik} from 'formik'\nimport axios from 'axios'\n\nconst AddArticle = (props) => {\n\n        \n    const data = props.route.params.article\n    \n    const [article, setArticle] = useState({\n        title: data.title,\n        price: data.price,\n        picture: data.picture,\n        content: data.content,\n    })\n    const articleId = data.id\n    \n    const handelChange = (key, value) => {\n        setArticle({ ...article, [key]: value })\n    }\n\n\n\n    // const handleSubmit = async () => {\n    //     try {\n    //         await axios.put(`http://localhost:8000/products/${articleId.toString()}/`, article)\n    //         // props.navigation.push('HomeScreen')\n    //         props.navigation.navigate('HomeScreen')\n    //     } \n    //     catch {\n    //         (error)=> (console.log(error))\n    //     }\n    // }\n\n    return (\n        <View>\n            {/* console.log({article}) */}\n            <Formik\n                initialValues={{ title: data.title, price: data.price, content: data.content, picture: data.picture }}\n                onSubmit={async (values) => {\n                    try {\n                        await axios.put(`http://localhost:8000/products/${articleId.toString()}/`, article)\n                        // props.navigation.push('HomeScreen')\n                        props.navigation.navigate('HomeScreen')\n                    } \n                    catch {\n                        (error)=> (console.log(error))\n                    }\n                }}\n            >\n                {(props) => (\n                    <View>\n                        <Text>Edit Article</Text>\n                        <TextInput\n                            style={styles.input}\n                            onChangeText={props.handleChange('title')}\n                            value={props.values.title}                     \n                        />\n                        <TextInput\n                            style={styles.input}\n                            onChangeText={props.handleChange('price')}\n                            value={props.values.price}\n                            keyboardType=\"numeric\"\n                        />  \n                        <TextInput\n                            style={styles.input}\n                            onChangeText={props.handleChange('picture')}\n                            value={props.values.picture}\n                        />  \n                        <TextInput\n                            style={styles.input}\n                            onChangeText={props.handleChange('contact')}\n                            value={props.values.contact}\n                            multiline\n                            numberOfLines={4}\n                            maxLength={40}\n                        />  \n                        <Button\n                            // onPress={handleSubmit}\n                            title=\"Save\"\n                            color=\"#841584\"\n                            // accessibilityLabel=\"Learn more about this purple button\"\n                            />\n                                </View>\n                        )}\n            \n                \n                </Formik>\n\n            \n      </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  input: {\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n});\n\nexport default AddArticle"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}