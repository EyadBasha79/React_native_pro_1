{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport { Formik } from 'formik';\nimport axios from 'axios';\nimport { MyContext } from \"../../globale/ContextState\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AddArticle = function AddArticle(props) {\n  var _useContext = useContext(MyContext),\n    myArticles = _useContext.myArticles,\n    setMyArticles = _useContext.setMyArticles;\n  var data = props.route.params.article;\n  var articleId = data.id;\n  return _jsxs(View, {\n    children: [_jsx(Formik, {\n      initialValues: {\n        title: data.title,\n        price: data.price,\n        content: data.content,\n        picture: data.picture\n      },\n      onSubmit: function () {\n        var _ref = _asyncToGenerator(function* (values, actions) {\n          try {\n            yield axios.put(\"http://localhost:8000/products/\" + articleId.toString() + \"/\", values);\n            actions.resetForm();\n            var res = yield axios.get('http://127.0.0.1:8000/products/');\n            setMyArticles(res.data.results);\n            props.navigation.push('HomeScreen');\n          } catch (_unused) {\n            (function (error) {\n              return console.log(error);\n            });\n          }\n        });\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      children: function children(props) {\n        return _jsxs(View, {\n          children: [_jsx(View, {\n            style: styles.container,\n            children: _jsx(Text, {\n              style: styles.title,\n              children: \"Edit Article\"\n            })\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: props.handleChange('title'),\n            value: props.values.title\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: props.handleChange('price'),\n            value: props.values.price,\n            keyboardType: \"numeric\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: props.handleChange('picture'),\n            value: props.values.picture\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: props.handleChange('content'),\n            value: props.values.content,\n            multiline: true,\n            numberOfLines: 4,\n            maxLength: 40\n          }), _jsx(Button, {\n            onPress: props.handleSubmit,\n            title: \"Edit\",\n            color: \"#841584\"\n          })]\n        });\n      }\n    }), _jsx(Button, {\n      title: \"Go Back\",\n      onPress: function onPress() {\n        return props.navigation.goBack();\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: 20,\n    paddingHorizontal: 12\n  },\n  input: {\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  title: {\n    fontWeight: '700',\n    fontSize: 30\n  }\n});\nexport default AddArticle;","map":{"version":3,"names":["React","useContext","View","Text","StyleSheet","TextInput","Button","TouchableWithoutFeedback","Keyboard","Formik","axios","MyContext","jsx","_jsx","jsxs","_jsxs","AddArticle","props","_useContext","myArticles","setMyArticles","data","route","params","article","articleId","id","children","initialValues","title","price","content","picture","onSubmit","_ref","_asyncToGenerator","values","actions","put","toString","resetForm","res","get","results","navigation","push","_unused","error","console","log","_x","_x2","apply","arguments","style","styles","container","input","onChangeText","handleChange","value","keyboardType","multiline","numberOfLines","maxLength","onPress","handleSubmit","color","goBack","create","flex","justifyContent","alignItems","paddingTop","paddingHorizontal","height","margin","borderWidth","padding","fontWeight","fontSize"],"sources":["/home/eyad/Documents/Eyad_DOCS/Doranco_formation/React_Native/Les_Project/new-front/e-commerce/src/Stack/EditArticle.js"],"sourcesContent":["import React, { useContext } from 'react'\n\nimport { View, Text, StyleSheet, TextInput, Button, TouchableWithoutFeedback, Keyboard } from 'react-native'\nimport {Formik} from 'formik'\nimport axios from 'axios'\nimport { MyContext } from '../../globale/ContextState'\n\n\nconst AddArticle = (props) => {    \n    const {\n            myArticles, \n            setMyArticles,\n    } = useContext(MyContext)\n    \n    const data = props.route.params.article\n    const articleId = data.id\n    \n    return (\n        // <TouchableWithoutFeedback onPress={() => Keyboard.dismiss()}>\n            <View>\n                <Formik\n                    initialValues={{\n                        title: data.title,\n                        price: data.price,\n                        content: data.content,\n                        picture: data.picture\n                    }}\n                    onSubmit={async (values, actions) => {\n                        try {\n                            await axios.put(`http://localhost:8000/products/${articleId.toString()}/`, values)\n                            actions.resetForm();\n                            const res = await axios.get('http://127.0.0.1:8000/products/')\n                            setMyArticles(res.data.results)\n                            props.navigation.push('HomeScreen');\n                            // props.navigation.navigate('HomeScreen')\n                        } \n                        catch {\n                            (error)=> (console.log(error))\n                        }\n                    }}\n                >\n                    {(props) => (\n                        <View>\n                            <View style={styles.container}>\n                                <Text style={styles.title}>Edit Article</Text>\n                            </View>\n                            <TextInput\n                                style={styles.input}\n                                onChangeText={props.handleChange('title')}\n                                value={props.values.title}                     \n                            />\n                            <TextInput\n                                style={styles.input}\n                                onChangeText={props.handleChange('price')}\n                                value={props.values.price}\n                                keyboardType=\"numeric\"\n                            />  \n                            <TextInput\n                                style={styles.input}\n                                onChangeText={props.handleChange('picture')}\n                                value={props.values.picture}\n                            />  \n                            <TextInput\n                                style={styles.input}\n                                onChangeText={props.handleChange('content')}\n                                value={props.values.content}\n                                multiline\n                                numberOfLines={4}\n                                maxLength={40}\n                            />  \n                            <Button\n                                onPress={props.handleSubmit}\n                                title=\"Edit\"\n                                color=\"#841584\"\n                                // accessibilityLabel=\"Learn more about this purple button\"\n                                />\n                                    </View>\n                            )}\n                \n                    \n                </Formik>\n                \n            \n                <Button\n                    title='Go Back'\n                    onPress={()=> (props.navigation.goBack())}\n                />\n            </View>\n        // </TouchableWithoutFeedback>\n  )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        paddingTop: 20,\n        paddingHorizontal: 12,\n        \n    },\n    input: {\n        height: 40,\n        margin: 12,\n        borderWidth: 1,\n        padding: 10,\n    },\n    title: {\n        fontWeight: '700',\n        fontSize: 30,\n    }\n});\n\nexport default AddArticle"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}