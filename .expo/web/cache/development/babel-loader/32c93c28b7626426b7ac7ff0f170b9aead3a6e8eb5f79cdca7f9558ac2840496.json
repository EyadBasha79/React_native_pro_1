{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport { Formik } from 'formik';\nimport axios from 'axios';\nimport { MyContext } from \"../../globale/ContextState\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar HideKeyboard = function HideKeyboard(_ref) {\n  var children = _ref.children;\n  return _jsx(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return Keyboard.dismiss();\n    },\n    accessible: false,\n    children: children\n  });\n};\nvar AddArticle = function AddArticle(_ref2) {\n  var navigation = _ref2.navigation,\n    dismisModal = _ref2.dismisModal;\n  var _useContext = useContext(MyContext),\n    myArticles = _useContext.myArticles,\n    setMyArticles = _useContext.setMyArticles;\n  return _jsx(HideKeyboard, {\n    children: _jsxs(View, {\n      children: [_jsx(Formik, {\n        initialValues: {\n          title: '',\n          price: 0,\n          content: '',\n          picture: ''\n        },\n        onSubmit: function () {\n          var _ref3 = _asyncToGenerator(function* (values, actions) {\n            try {\n              yield axios.post(\"http://localhost:8000/products/\", values);\n              actions.resetForm();\n              var res = yield axios.get('http://127.0.0.1:8000/products/');\n              setMyArticles(res.data.results);\n              dismisModal();\n              navigation.push('HomeScreen');\n            } catch (_unused) {\n              (function (error) {\n                return console.log(error);\n              });\n            }\n          });\n          return function (_x, _x2) {\n            return _ref3.apply(this, arguments);\n          };\n        }(),\n        children: function children(props) {\n          return _jsxs(View, {\n            children: [_jsx(View, {\n              style: styles.container,\n              children: _jsx(Text, {\n                style: styles.title,\n                children: \"Add Article\"\n              })\n            }), _jsx(TextInput, {\n              placeholder: \"Title\",\n              style: styles.input,\n              onChangeText: props.handleChange('title'),\n              value: props.values.title\n            }), _jsx(TextInput, {\n              placeholder: \"Price\",\n              style: styles.input,\n              onChangeText: props.handleChange('price'),\n              value: props.values.price,\n              keyboardType: \"numeric\"\n            }), _jsx(TextInput, {\n              placeholder: \"WEB Image URL\",\n              style: styles.input,\n              onChangeText: props.handleChange('picture'),\n              value: props.values.picture\n            }), _jsx(TextInput, {\n              placeholder: \"Descriptions\",\n              style: styles.input,\n              onChangeText: props.handleChange('content'),\n              value: props.values.content,\n              multiline: true,\n              numberOfLines: 4,\n              maxLength: 40\n            }), _jsx(Button, {\n              onPress: props.handleSubmit,\n              title: \"Save\",\n              color: \"#841584\"\n            })]\n          });\n        }\n      }), _jsx(Button, {\n        title: \"Go Back\",\n        onPress: function onPress() {\n          return navigation.goBack();\n        }\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: 20,\n    paddingHorizontal: 12\n  },\n  input: {\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  title: {\n    fontWeight: '700',\n    fontSize: 30\n  }\n});\nexport default AddArticle;","map":{"version":3,"names":["React","useContext","View","Text","StyleSheet","TextInput","Button","TouchableWithoutFeedback","Keyboard","Formik","axios","MyContext","jsx","_jsx","jsxs","_jsxs","HideKeyboard","_ref","children","onPress","dismiss","accessible","AddArticle","_ref2","navigation","dismisModal","_useContext","myArticles","setMyArticles","initialValues","title","price","content","picture","onSubmit","_ref3","_asyncToGenerator","values","actions","post","resetForm","res","get","data","results","push","_unused","error","console","log","_x","_x2","apply","arguments","props","style","styles","container","placeholder","input","onChangeText","handleChange","value","keyboardType","multiline","numberOfLines","maxLength","handleSubmit","color","goBack","create","flex","justifyContent","alignItems","paddingTop","paddingHorizontal","height","margin","borderWidth","padding","fontWeight","fontSize"],"sources":["/home/eyad/Documents/Eyad_DOCS/Doranco_formation/React_Native/Les_Project/new-front/e-commerce/src/BottomTab/AddArticle.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport { View, Text, StyleSheet, TextInput, Button, TouchableWithoutFeedback, Keyboard } from 'react-native'\nimport {Formik} from 'formik'\nimport axios from 'axios'\nimport { MyContext } from '../../globale/ContextState'\n\n\nconst HideKeyboard = ({ children }) => (\n  <TouchableWithoutFeedback onPress={() => Keyboard.dismiss()} accessible={false}>\n    {children}\n  </TouchableWithoutFeedback>\n);\n\n\n\nconst AddArticle = ({ navigation, dismisModal }) => {\n        const {\n            myArticles, \n            setMyArticles,\n        } = useContext(MyContext)\n    \n    return (\n        <HideKeyboard>\n            <View>\n                <Formik\n                    initialValues={{\n                        title: '',\n                        price: 0,\n                        content: '',\n                        picture: ''\n                    }}\n                    onSubmit={async (values, actions) => {\n                        try {\n                            await axios.post(`http://localhost:8000/products/`, values)\n                            actions.resetForm();\n                            const res = await axios.get('http://127.0.0.1:8000/products/')\n                            setMyArticles(res.data.results)\n                            dismisModal()\n                            navigation.push('HomeScreen');\n                        } \n                        catch {\n                            (error)=> (console.log(error))\n                        }\n                    }}\n                >\n                    {(props) => (\n                        <View >\n                            <View style={styles.container}>\n                                <Text style={styles.title}>Add Article</Text>\n                            </View>\n                            <TextInput\n                                placeholder='Title'\n                                style={styles.input}\n                                onChangeText={props.handleChange('title')}\n                                value={props.values.title}                     \n                            />\n                            <TextInput\n                                placeholder='Price'\n                                style={styles.input}\n                                onChangeText={props.handleChange('price')}\n                                value={props.values.price}\n                                keyboardType=\"numeric\"\n                            />  \n                            <TextInput\n                                placeholder='WEB Image URL'\n                                style={styles.input}\n                                onChangeText={props.handleChange('picture')}\n                                value={props.values.picture}\n                            />  \n                            <TextInput\n                                placeholder='Descriptions'\n                                style={styles.input}\n                                onChangeText={props.handleChange('content')}\n                                value={props.values.content}\n                                multiline\n                                numberOfLines={4}\n                                maxLength={40}\n                            />  \n                            <Button\n                                onPress={props.handleSubmit}\n                                title=\"Save\"\n                                color=\"#841584\"\n                                // accessibilityLabel=\"Learn more about this purple button\"\n                                />\n                        </View>\n                        )}\n                </Formik>\n                <Button \n                    title='Go Back'\n                    onPress={()=> (navigation.goBack())}\n                />\n        </View>\n      </HideKeyboard>\n  )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        paddingTop: 20,\n        paddingHorizontal: 12,\n        \n    },\n    input: {\n        height: 40,\n        margin: 12,\n        borderWidth: 1,\n        padding: 10,\n    },\n    title: {\n        fontWeight: '700',\n        fontSize: 30,\n    }\n    \n});\n\nexport default AddArticle"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}